bGV0IHNwbGl0SW5zdGFuY2UgPSBudWxsOwoKZnVuY3Rpb24gaW5pdFNwbGl0
KCkgewogIC8vIERlc3Ryb3kgZXhpc3Rpbmcgc3BsaXQgaWYgYW55CiAgaWYg
KHNwbGl0SW5zdGFuY2UpIHsKICAgIHNwbGl0SW5zdGFuY2UuZm9yRWFjaChp
bnN0YW5jZSA9PiBpbnN0YW5jZS5kZXN0cm95KCkpOwogICAgc3BsaXRJbnN0
YW5jZSA9IG51bGw7CiAgfQoKICAvLyBPbmx5IGluaXQgaWYgZGVza3RvcCBh
bmQgcGFuZWxzIGV4aXN0CiAgaWYgKHdpbmRvdy5pbm5lcldpZHRoID49IDc2
OCkgewogICAgY29uc3QgcHJldmlld1BhbmVsID0gZG9jdW1lbnQuZ2V0RWxl
bWVudEJ5SWQoJ3ByZXZpZXctcGFuZWwnKTsKICAgIGNvbnN0IGNvZGVQYW5l
bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2RlLXBhbmVsJyk7CiAg
ICBpZiAocHJldmlld1BhbmVsICYmIGNvZGVQYW5lbCkgewogICAgICBzcGxp
dEluc3RhbmNlID0gU3BsaXQoWycjcHJldmlldy1wYW5lbCcsICcjY29kZS1w
YW5lbCddLCB7CiAgICAgICAgc2l6ZXM6IFs1MCwgNTBdLAogICAgICAgIG1p
blNpemU6IDIwMCwKICAgICAgICBndXR0ZXJTaXplOiA4LAogICAgICAgIGN1
cnNvcjogJ2NvbC1yZXNpemUnLAogICAgICAgIGFuaW1hdGlvbjogdHJ1ZSwK
ICAgICAgICBsaXZlR3V0dGVyUmVzaXplOiB0cnVlCiAgICAgIH0pOwogICAg
ICAvLyBBZGQgZnVsbHNjcmVlbiBidG4gYWZ0ZXIgc3BsaXQKICAgICAgY29u
c3QgcHJldmlld0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Io
JyNwcmV2aWV3LXBhbmVsIC5wcmV2aWV3LWNvZGUtY29udGFpbmVyJyk7CiAg
ICAgIGlmIChwcmV2aWV3Q29udGFpbmVyKSBhZGRGdWxsc2NyZWVuQnRuKHBy
ZXZpZXdDb250YWluZXIpOwogICAgfQogIH0KfQoKLy8gUmUtaW5pdCBvbiBy
ZXNpemUKd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+
IHsKICBpbml0U3BsaXQoKTsKfSk7CgovLyBQcmlzbSBoaWdobGlnaHQgYWZ0
ZXIgc3dhcHMKZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdodG14
OmFmdGVyU3dhcCcsIChlKSA9PiB7CiAgaWYgKHR5cGVvZiBQcmlzbSAhPT0g
J3VuZGVmaW5lZCcpIHsKICAgIFByaXNtLmhpZ2hsaWdodEFsbCgpOwogIH0K
ICAvLyBBZGQgZnVsbHNjcmVlbiBidG4gYWZ0ZXIgc3dhcAogIGNvbnN0IHBy
ZXZpZXdDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJl
dmlldy1wYW5lbCAucHJldmlldy1jb2RlLWNvbnRhaW5lcicpOwogIGlmIChw
cmV2aWV3Q29udGFpbmVyKSBhZGRGdWxsc2NyZWVuQnRuKHByZXZpZXdDb250
YWluZXIpOwp9KTsKCi8vIEZ1bGxzY3JlZW4gZnVuY3Rpb25zCmZ1bmN0aW9u
IGFkZEZ1bGxzY3JlZW5CdG4oY29udGFpbmVyKSB7CiAgaWYgKGNvbnRhaW5l
ci5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKSAmJiAhY29udGFpbmVyLnF1ZXJ5
U2VsZWN0b3IoJy5mdWxsc2NyZWVuLWJ0biwgLmV4aXQtZnVsbHNjcmVlbicp
KSB7CiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdi
dXR0b24nKTsKICAgIGJ0bi5jbGFzc05hbWUgPSAnZnVsbHNjcmVlbi1idG4n
OwogICAgYnRuLmlubmVySFRNTCA9ICfim7YnOwogICAgYnRuLm9uY2xpY2sg
PSAoKSA9PiBlbnRlckZ1bGxzY3JlZW4oY29udGFpbmVyKTsKICAgIGNvbnRh
aW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7CiAgICBjb250YWlu
ZXIuYXBwZW5kQ2hpbGQoYnRuKTsKICB9Cn0KCmZ1bmN0aW9uIGVudGVyRnVs
bHNjcmVlbihlbCkgewogIGVsLmRhdGFzZXQuc2F2ZWRSZWN0ID0gSlNPTi5z
dHJpbmdpZnkoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpOwogIGVsLmRh
dGFzZXQuc2F2ZWRTdHlsZSA9IGVsLnN0eWxlLmNzc1RleHQ7CiAgZWwuY2xh
c3NMaXN0LmFkZCgnZnVsbHNjcmVlbicpOwogIGNvbnN0IGV4aXRCdG4gPSBk
b2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICBleGl0QnRuLmNs
YXNzTmFtZSA9ICdleGl0LWZ1bGxzY3JlZW4nOwogIGV4aXRCdG4uaW5uZXJI
VE1MID0gJ+KdjCc7CiAgZXhpdEJ0bi5vbmNsaWNrID0gKCkgPT4gZXhpdEZ1
bGxzY3JlZW4oZWwpOwogIGVsLmFwcGVuZENoaWxkKGV4aXRCdG4pOwp9Cgpm
dW5jdGlvbiBleGl0RnVsbHNjcmVlbihlbCkgewogIGVsLmNsYXNzTGlzdC5y
ZW1vdmUoJ2Z1bGxzY3JlZW4nKTsKICBjb25zdCBzYXZlZFJlY3QgPSBKU09O
LnBhcnNlKGVsLmRhdGFzZXQuc2F2ZWRSZWN0KTsKICBlbC5zdHlsZS53aWR0
aCA9IHNhdmVkUmVjdC53aWR0aCArICdweCc7CiAgZWwuc3R5bGUuaGVpZ2h0
ID0gc2F2ZWRSZWN0LmhlaWdodCArICdweCc7CiAgZWwuc3R5bGUuY3NzVGV4
dCA9IGVsLmRhdGFzZXQuc2F2ZWRTdHlsZTsKICBjb25zdCBleGl0ID0gZWwu
cXVlcnlTZWxlY3RvcignLmV4aXQtZnVsbHNjcmVlbicpOwogIGlmIChleGl0
KSBleGl0LnJlbW92ZSgpOwogIGFkZEZ1bGxzY3JlZW5CdG4oZWwpOwp9